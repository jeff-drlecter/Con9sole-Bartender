import random
from typing import List, Tuple

import discord
from discord import app_commands
from discord.ext import commands

# ------------------------------------------------------------
# Con9sole-Bartender: drink.py
# Slash command: /drink to:@member
# åŠŸèƒ½ï¼šéš¨æ©Ÿç‚ºæŒ‡å®šå°è±¡é»ä¸€æ¬¾ã€Œé…’åã€ï¼ˆè‹±æ–‡+ä¸­æ–‡è­¯åï¼‰ï¼Œä»¥ Embed é¡¯ç¤º
# è³‡æ–™ä¾†æºï¼šIBA 77 æ¬¾å®˜æ–¹é›å°¾é…’ + è‡ªå‹•çµ„åˆ >=1000 ç¨®
# é¡å¤–åŠŸèƒ½ï¼šé™„ä¸Šç°¡çŸ­èª¿è£½ä»‹ç´¹ + é¡å‹å°æ‡‰ icon
# ------------------------------------------------------------

ICON_MAP = {
    "short": "ğŸ¸",
    "tropical": "ğŸ¹",
    "wine": "ğŸ·",
    "sparkling": "ğŸ¥‚",
    "beer": "ğŸº",
    "whisky": "ğŸ¥ƒ",
    "default": "ğŸ¸",
}

# IBA å®˜æ–¹ 77 æ¬¾ï¼ˆè‹±æ–‡, ä¸­æ–‡, ç°¡ä»‹, é¡å‹ï¼‰
IBA: List[Tuple[str, str, str, str]] = [
    # === Unforgettables (30) ===
    ("Alexander", "äºæ­·å±±å¤§", "ç´é…’ã€å¯å¯ç”œé…’èˆ‡å¿Œå»‰èª¿è£½ï¼ŒæŸ”å’Œé¦™ç”œã€‚", "short"),
    ("Americano", "ç¾å¼é›å°¾é…’", "é‡‘å·´åˆ©ã€ç”œè‹¦è‰¾é…’åŠ æ¢³æ‰“æ°´ï¼Œæ¸…çˆ½é–‹èƒƒã€‚", "sparkling"),
    ("Angel Face", "å¤©ä½¿ä¹‹å»", "ç´é…’ã€æå­ç™½è˜­åœ°èˆ‡è˜‹æœç™½è˜­åœ°ï¼Œæœé¦™æŸ”å’Œã€‚", "short"),
    ("Aviation", "èˆªç©º", "ç´é…’ã€ç´«ç¾…è˜­ç”œé…’ã€æª¸æª¬æ±ï¼Œå¸¶èŠ±é¦™é…¸å‘³ã€‚", "short"),
    ("Between the Sheets", "åºŠç¬«ä¹‹é–“", "ç™½è˜­åœ°ã€è˜­å§†èˆ‡æ©™é…’ï¼Œé…¸ç”œå¹³è¡¡ã€‚", "short"),
    ("Boulevardier", "å¤§é“", "æ³¢æœ¬å¨å£«å¿Œã€é‡‘å·´åˆ©ã€ç”œè‹¦è‰¾é…’ï¼Œè‹¦ç”œåšå¯¦ã€‚", "whisky"),
    ("Brandy Crusta", "ç™½è˜­åœ°å…‹æ‹‰æ–¯å¡”", "ç™½è˜­åœ°åŠ æª¸æª¬èˆ‡æ©™é…’ï¼Œæ¯æ²¿è£¹ç³–ã€‚", "short"),
    ("Casino", "è³­å ´", "ç´é…’ã€æª¸æª¬æ±èˆ‡æ©™å‘³åˆ©å£é…’ï¼Œæ¸…çˆ½ä¿è½ã€‚", "short"),
    ("Clover Club", "ä¸‰è‘‰è‰ä¿±æ¨‚éƒ¨", "ç´é…’ã€ç´…çŸ³æ¦´ç³–æ¼¿èˆ‡è›‹ç™½ï¼Œç²‰å«©é…¸ç”œã€‚", "short"),
    ("Daiquiri", "æˆ´å‰åˆ©", "è˜­å§†é…’ã€é’æª¸æ±èˆ‡ç³–æ¼¿ï¼Œæ¸…çˆ½å¹³è¡¡ã€‚", "tropical"),
    ("Dry Martini", "ä¹¾é¦¬ä¸å°¼", "ç´é…’åŠ è‹¦è‰¾é…’ï¼Œä¹¾çˆ½ä¿è½ã€‚", "short"),
    ("Gin Fizz", "ç´è²»å£«", "ç´é…’ã€æª¸æª¬æ±åŠ æ¢³æ‰“ï¼Œæ¸…çˆ½æ°£æ³¡ã€‚", "sparkling"),
    ("Hanky Panky", "èŠ±æ‹›", "ç´é…’ã€ç”œè‹¦è‰¾é…’èˆ‡è²»å—ç‰¹è‹¦é…’ï¼Œè‰æœ¬è¾›é¦™ã€‚", "short"),
    ("John Collins", "ç´„ç¿°å¯æ—æ–¯", "ç´é…’ã€æª¸æª¬æ±ã€æ¢³æ‰“æ°´ï¼Œé…¸ç”œæ¸…çˆ½ã€‚", "sparkling"),
    ("Last Word", "æœ€å¾Œçš„è©±", "ç´é…’ã€ç¶ æŸ¥ç‰¹ã€æ«»æ¡ƒåˆ©å£é…’èˆ‡æª¸æª¬æ±ï¼Œè‰æœ¬é…¸ç”œã€‚", "short"),
    ("Manhattan", "æ›¼å“ˆé “", "é»‘éº¥å¨å£«å¿Œèˆ‡ç”œè‹¦è‰¾é…’ï¼Œè‹¦ç”œåšé‡ã€‚", "whisky"),
    ("Martinez", "é¦¬ä¸å…§æ–¯", "ç´é…’ã€ç”œè‹¦è‰¾é…’èˆ‡æ©™å‘³è‹¦ç²¾ï¼Œé¦¬ä¸å°¼å‰èº«ã€‚", "short"),
    ("Mary Pickford", "ç‘ªéº—â€§ç¢§å…‹é¦¥", "è˜­å§†ã€è è˜¿æ±èˆ‡ç´…çŸ³æ¦´ç³–æ¼¿ï¼Œç†±å¸¶ç”œç¾ã€‚", "tropical"),
    ("Monkey Gland", "çŒ´è…º", "ç´é…’ã€æ©™æ±èˆ‡ç´…çŸ³æ¦´ç³–æ¼¿ï¼Œè‰²å½©é®®è±”ã€‚", "short"),
    ("Negroni", "å…§æ ¼ç¾…å°¼", "ç´é…’ã€é‡‘å·´åˆ©èˆ‡ç”œè‹¦è‰¾é…’ï¼Œè‹¦ç”œå…¼å‚™ã€‚", "short"),
    ("Old Fashioned", "å¤å…¸é›å°¾é…’", "å¨å£«å¿ŒåŠ æ–¹ç³–èˆ‡è‹¦ç²¾ï¼Œç¶“å…¸æ¿ƒçƒˆã€‚", "whisky"),
    ("Paradise", "å¤©å ‚", "ç´é…’ã€æå­ç™½è˜­åœ°èˆ‡æ©™æ±ï¼Œæœé¦™æ€¡äººã€‚", "short"),
    ("Planterâ€™s Punch", "ç¨®æ¤è€…æ½˜è¶£é…’", "è˜­å§†èˆ‡æœæ±ï¼Œæ¿ƒéƒæœé¦™ã€‚", "tropical"),
    ("Porto Flip", "æ³¢ç‰¹ç¿»è½‰", "æ³¢ç‰¹é…’ã€ç™½è˜­åœ°èˆ‡è›‹é»ƒï¼Œæ¿ƒåšé¦™ç”œã€‚", "wine"),
    ("Rusty Nail", "é½é‡˜", "è˜‡å¨åŠ èœ‚èœœé…’ï¼Œæº«æ½¤åšå¯¦ã€‚", "whisky"),
    ("Sazerac", "è–©æ¾¤æ‹‰å…‹", "é»‘éº¥å¨å£«å¿Œã€è‹¦è‰¾é…’èˆ‡è‹¦ç²¾ï¼Œç´å¥§è‰¯ç¶“å…¸ã€‚", "whisky"),
    ("Sidecar", "é‚Šè»Š", "ç™½è˜­åœ°ã€æ©™é…’èˆ‡æª¸æª¬æ±ï¼Œé…¸ç”œå¹³è¡¡ã€‚", "short"),
    ("Stinger", "æ¯’è«", "ç™½è˜­åœ°èˆ‡è–„è·ç”œé…’ï¼Œç”œä¸­æ¸…æ¶¼ã€‚", "short"),
    ("Tuxedo", "ç‡•å°¾æœ", "ç´é…’èˆ‡é›ªè‰èª¿è£½ï¼Œå„ªé›…è¾›é¦™ã€‚", "short"),
    ("Whiskey Sour", "å¨å£«å¿Œé…¸é…’", "å¨å£«å¿Œã€æª¸æª¬æ±èˆ‡ç³–æ¼¿ï¼Œé…¸ç”œæ¿ƒçƒˆã€‚", "whisky"),
    ("White Lady", "ç™½è¡£å¥³å­", "ç´é…’ã€æ©™é…’èˆ‡æª¸æª¬æ±ï¼Œé…¸é¦™æŸ”å’Œã€‚", "short"),

    # === Contemporary Classics (33) ===
    ("Aperol Spritz", "é˜¿ä½©ç¾…æ°£æ³¡é…’", "é˜¿ä½©ç¾…ã€æ°£æ³¡é…’èˆ‡æ¢³æ‰“æ°´ï¼Œè¼•ç›ˆæœé¦™ã€‚", "sparkling"),
    ("Barracuda", "æ¢­é­š", "é‡‘è˜­å§†ã€åŠ åˆ©å®‰è«¾èˆ‡è è˜¿æ±ï¼Œå¸¶æ°£æ³¡ã€‚", "tropical"),
    ("B52", "B52", "åˆ†å±¤å’–å•¡åˆ©å£é…’ã€ç™¾åˆ©ç”œèˆ‡æ©™é…’ï¼Œå±¤æ¬¡åˆ†æ˜ã€‚", "short"),
    ("Bellini", "è²é‡Œå°¼", "æ°£æ³¡é…’åŠ ç™½æ¡ƒæ³¥ï¼Œå„ªé›…æœé¦™ã€‚", "sparkling"),
    ("Black Russian", "é»‘ä¿„ç¾…æ–¯", "ä¼ç‰¹åŠ åŠ å’–å•¡ç”œé…’ï¼Œæ¿ƒçƒˆåšé‡ã€‚", "short"),
    ("Bloody Mary", "è¡€è…¥ç‘ªéº—", "ä¼ç‰¹åŠ åŠ ç•ªèŒ„æ±èˆ‡é¦™æ–™ï¼Œé¹¹é®®é†’èƒƒã€‚", "tropical"),
    ("Caipirinha", "å¡çš®é‡Œå°¼äº", "å¡èè–©åŠ é’æª¸èˆ‡ç³–ï¼Œå·´è¥¿åœ‹æ°‘é…’ã€‚", "tropical"),
    ("Champagne Cocktail", "é¦™æª³é›å°¾é…’", "é¦™æª³åŠ æ–¹ç³–èˆ‡è‹¦ç²¾ï¼Œç°¡å–®é«˜è²´ã€‚", "sparkling"),
    ("Cosmopolitan", "å¤§éƒ½æœƒ", "ä¼ç‰¹åŠ ã€æ©™é…’ã€è”“è¶Šè“æ±ï¼Œæ™‚å°šä»£è¡¨ã€‚", "short"),
    ("Cuba Libre", "è‡ªç”±å¤å·´", "è˜­å§†åŠ å¯æ¨‚èˆ‡é’æª¸æ±ï¼Œç¶“å…¸ç°¡å–®ã€‚", "tropical"),
    ("French 75", "æ³•å¼75", "ç´é…’ã€æª¸æª¬æ±èˆ‡é¦™æª³ï¼Œé…¸é¦™å¸¶æ°£æ³¡ã€‚", "sparkling"),
    ("French Connection", "æ³•å¼é€£ç·š", "å¹²é‚‘èˆ‡æä»åˆ©å£é…’ï¼Œç°¡æ½”æ¿ƒçƒˆã€‚", "short"),
    ("Golden Dream", "é»ƒé‡‘å¤¢", "æ©™é…’ã€èŒ´é¦™é…’èˆ‡å¿Œå»‰ï¼Œé¦™æ»‘ç”œç¾ã€‚", "short"),
    ("Grasshopper", "ç¶ è‰²èš±èœ¢", "è–„è·ç”œé…’ã€å¯å¯ç”œé…’èˆ‡å¿Œå»‰ï¼Œæ¸…æ¶¼é¦™ç”œã€‚", "short"),
    ("Harvey Wallbanger", "å“ˆç¶­æ’ç‰†", "ä¼ç‰¹åŠ ã€æ©™æ±èˆ‡åŠ åˆ©å®‰è«¾ï¼Œé…¸ç”œé†’ç¥ã€‚", "short"),
    ("Hemingway Special", "æµ·æ˜å¨ç‰¹èª¿", "è˜­å§†ã€è‘¡è„æŸšèˆ‡æ«»æ¡ƒåˆ©å£é…’ï¼Œé…¸çˆ½æ¸…æ–°ã€‚", "tropical"),
    ("Horseâ€™s Neck", "é¦¬é ¸", "æ³¢æœ¬/ç™½è˜­åœ°åŠ è–‘æ±æ±½æ°´èˆ‡æª¸çš®æ²ã€‚", "beer"),
    ("Irish Coffee", "æ„›çˆ¾è˜­å’–å•¡", "ç†±å’–å•¡ã€æ„›çˆ¾è˜­å¨å£«å¿Œèˆ‡é®®å¿Œå»‰ã€‚", "whisky"),
    ("Kir", "åŸºçˆ¾", "ç™½é…’åŠ é»‘é†‹æ —åˆ©å£é…’ï¼Œç°¡å–®å„ªé›…ã€‚", "wine"),
    ("Long Island Iced Tea", "é•·å³¶å†°èŒ¶", "å¤šç¨®çƒˆé…’æ··åˆï¼Œå¯æ¨‚é ‚æ»¿ï¼Œå¼·å‹æœ‰åŠ›ã€‚", "tropical"),
    ("Mai Tai", "é‚æ³°", "è˜­å§†é…’åŠ æœæ±ï¼Œç†±å¸¶é¢¨æƒ…ã€‚", "tropical"),
    ("Mimosa", "å«ç¾è‰", "é¦™æª³åŠ æŸ³æ©™æ±ï¼Œæ—©åˆé¤å¿…å‚™ã€‚", "sparkling"),
    ("Mint Julep", "è–„è·æœ±åˆ©é…’", "æ³¢æœ¬åŠ è–„è·èˆ‡ç¢å†°ï¼Œæ¸…çˆ½æ¶ˆæš‘ã€‚", "whisky"),
    ("Mojito", "è«å‰æ‰˜", "è˜­å§†ã€è–„è·ã€é’æª¸èˆ‡æ¢³æ‰“æ°´ï¼Œæ¸…æ–°çˆ½å£ã€‚", "tropical"),
    ("Moscow Mule", "è«æ–¯ç§‘é¨¾å­", "ä¼ç‰¹åŠ ã€è–‘æ±å•¤é…’èˆ‡é’æª¸æ±ï¼Œè¾›å£æ¸…çˆ½ã€‚", "beer"),
    ("PiÃ±a Colada"), "æ¤°æ—é£„é¦™", "è˜­å§†ã€æ¤°æ¼¿èˆ‡è è˜¿æ±ï¼Œç†±å¸¶ç”œç¾ã€‚", "tropical"),
    ("Sea Breeze", "æµ·é¢¨", "ä¼ç‰¹åŠ ã€è”“è¶Šè“èˆ‡è‘¡è„æŸšæ±ï¼Œæ¸…çˆ½é…¸ç”œã€‚", "tropical"),
    ("Sex on the Beach", "æµ·ç˜æ€§æ„›", "ä¼ç‰¹åŠ ã€æ¡ƒå­ç”œé…’èˆ‡æœæ±ï¼Œç”œç¾è¨å–œã€‚", "tropical"),
    ("Singapore Sling", "æ–°åŠ å¡å¸ä»¤", "ç´é…’åŠ é³³æ¢¨æ±èˆ‡æ«»æ¡ƒç™½è˜­åœ°ï¼Œç†±å¸¶ç¶“å…¸ã€‚", "tropical"),
    ("Tequila Sunrise", "é¾èˆŒè˜­æ—¥å‡º", "é¾èˆŒè˜­ã€æŸ³æ©™æ±èˆ‡ç´…çŸ³æ¦´ç³–æ¼¿ï¼Œè‰²å½©é®®æ˜ã€‚", "tropical"),
    ("Vampiro", "å¸è¡€é¬¼", "é¾èˆŒè˜­ã€ç•ªèŒ„æ±èˆ‡é¦™æ–™ï¼Œæ¿ƒçƒˆè¾›è¾£ã€‚", "tropical"),
    ("Yellow Bird", "é»ƒé³¥", "è˜­å§†ã€åŠ åˆ©å®‰è«¾èˆ‡æ©™æ±ï¼Œæœé¦™ç†±å¸¶ã€‚", "tropical"),
    ("Zombie", "æ®­å±", "å¤šæ¬¾è˜­å§†èˆ‡æœæ±ï¼Œå¼·å‹æœ‰åŠ›ã€‚", "tropical"),

    # === New Era Drinks (14) ===
    ("Barrio", "å·´é‡Œå¥§", "é¾èˆŒè˜­ã€ç•ªèŒ„æ±èˆ‡é¦™æ–™æ··åˆï¼Œé¢¨å‘³æ¿ƒçƒˆã€‚", "tropical"),
    ("Bramble", "é»‘è“é…’", "ç´é…’ã€é»‘è“åˆ©å£é…’èˆ‡æª¸æª¬æ±ï¼Œè“æœé…¸ç”œã€‚", "short"),
    ("Dark â€™nâ€™ Stormy", "é»‘æš—é¢¨æš´", "é»‘è˜­å§†èˆ‡è–‘æ±å•¤é…’ï¼Œè¾›è¾£æ¸…çˆ½ã€‚", "beer"),
    ("Espresso Martini", "æ¿ƒç¸®é¦¬ä¸å°¼", "ä¼ç‰¹åŠ åŠ å’–å•¡ï¼Œé†‡åšå¸¶ç”œã€‚", "short"),
    ("French Martini", "æ³•å¼é¦¬ä¸å°¼", "ä¼ç‰¹åŠ ã€é»‘é†‹æ —åˆ©å£é…’èˆ‡é³³æ¢¨æ±ï¼Œé…¸ç”œé«˜é›…ã€‚", "short"),
    ("Illegal", "éæ³•", "æ¢…æ–¯å¡çˆ¾ã€åˆ©èŠèˆ‡è‘¡è„æŸšï¼Œç…™ç‡»é…¸çˆ½ã€‚", "whisky"),
    ("London Mule", "å€«æ•¦é¨¾å­", "ç´é…’ã€è–‘æ±å•¤é…’èˆ‡é’æª¸æ±ï¼Œè¾›è¾£æ¸…æ–°ã€‚", "beer"),
    ("Paloma", "ç™½é´¿", "é¾èˆŒè˜­èˆ‡è‘¡è„æŸšæ±½æ°´ï¼Œæ¸…çˆ½æ˜“é£²ã€‚", "tropical"),
    ("Paper Plane", "ç´™é£›æ©Ÿ", "æ³¢æœ¬ã€é˜¿ä½©ç¾…ã€é˜¿ç‘ªç¾…èˆ‡æª¸æª¬æ±ï¼Œè‹¦ç”œå¹³è¡¡ã€‚", "whisky"),
    ("Penicillin", "é’é»´ç´ ", "å¨å£«å¿Œã€èœ‚èœœèˆ‡è–‘æ±ï¼Œç…™ç‡»æš–èƒƒã€‚", "whisky"),
    ("Russian Spring Punch", "ä¿„ç¾…æ–¯æ˜¥å­£æ½˜è¶£é…’", "ä¼ç‰¹åŠ ã€é»‘é†‹æ —åˆ©å£é…’èˆ‡é¦™æª³ï¼Œæ¸…çˆ½æ°£æ³¡ã€‚", "sparkling"),
    ("Spritz Veneziano", "å¨å°¼æ–¯æ°£æ³¡é…’", "é˜¿ä½©ç¾…ã€æ™®ç¾…è³½å…‹èˆ‡æ¢³æ‰“æ°´ï¼Œè¼•ç›ˆæœé¦™ã€‚", "sparkling"),
    ("Tommyâ€™s Margarita", "æ¹¯ç±³ç‘ªæ ¼éº—å¡”", "é¾èˆŒè˜­ç³–æ¼¿å–ä»£æ©™é…’ï¼Œæ›´ä¿è½æ¸…çˆ½ã€‚", "tropical"),
    ("Vesper", "ç¶­æ–¯ç€é¦¬ä¸å°¼", "ç´é…’ã€ä¼ç‰¹åŠ èˆ‡åˆ©èŠé…’ï¼Œå†·å†½ä¿è½ã€‚", "short"),
]

# å½¢å®¹è© (è‹±æ–‡, ä¸­æ–‡)
ADJECTIVES: List[Tuple[str, str]] = [
    ("Smoky", "ç…™ç‡»"), ("Citrus", "æŸ‘æ©˜"), ("Spiced", "é¦™æ–™"), ("Tropical", "ç†±å¸¶"),
    ("Berry", "è“æœ"), ("Herbal", "è‰æœ¬"), ("Floral", "èŠ±é¦™"), ("Sweet", "ç”œå‘³"),
    ("Dry", "ä¹¾å£"), ("Bold", "æ¿ƒçƒˆ"), ("Fresh", "æ¸…æ–°"), ("Creamy", "å¥¶é¦™"),
]

# åŸºé…’ (è‹±æ–‡, ä¸­æ–‡, é¡å‹)
SPIRITS: List[Tuple[str, str, str]] = [
    ("Whisky", "å¨å£«å¿Œ", "whisky"),
    ("Bourbon", "æ³¢æœ¬", "whisky"),
    ("Rum", "è˜­å§†é…’", "tropical"),
    ("Gin", "ç´é…’", "short"),
    ("Vodka", "ä¼ç‰¹åŠ ", "short"),
    ("Tequila", "é¾èˆŒè˜­", "tropical"),
    ("Mezcal", "æ¢…æ–¯å¡çˆ¾", "whisky"),
    ("Brandy", "ç™½è˜­åœ°", "short"),
]

# é¢¨æ ¼ (è‹±æ–‡, ä¸­æ–‡, é¡å‹)
STYLES: List[Tuple[str, str, str]] = [
    ("Highball", "é«˜çƒ", "short"),
    ("Sour", "é…¸é…’", "short"),
    ("Fizz", "æ°£æ³¡é…’", "sparkling"),
    ("Collins", "å¯æ—æ–¯", "short"),
    ("Martini", "é¦¬ä¸å°¼", "short"),
    ("Spritz", "æ°£æ³¡", "sparkling"),
    ("Mule", "é¨¾å­", "tropical"),
    ("Julep", "æœ±åˆ©é…’", "tropical"),
]

# é¢¨å‘³ (è‹±æ–‡, ä¸­æ–‡)
FLAVORS: List[Tuple[str, str]] = [
    ("with Ginger", "åŠ è–‘"), ("with Honey", "åŠ èœ‚èœœ"), ("with Mint", "åŠ è–„è·"),
    ("with Basil", "åŠ ç¾…å‹’"), ("with Peach", "åŠ æ°´èœœæ¡ƒ"), ("with Coconut", "åŠ æ¤°å­"),
    ("with Coffee", "åŠ å’–å•¡"), ("with Chocolate", "åŠ æœ±å¤åŠ›"), ("with Yuzu", "åŠ æŸšå­"),
    ("with Lychee", "åŠ è”æ"), ("with Passionfruit", "åŠ ç†±æƒ…æœ"), ("with Pineapple", "åŠ è è˜¿"),
]


def build_drink_names() -> List[Tuple[str, str, str, str]]:
    names: List[Tuple[str, str, str, str]] = []

    # IBA å®˜æ–¹
    names.extend(IBA)

    # è‡ªå‹•çµ„åˆ
    for adj_en, adj_zh in ADJECTIVES:
        for sp_en, sp_zh, sp_type in SPIRITS:
            eng = f"{adj_en} {sp_en}"
            zh = f"{adj_zh}{sp_zh}"
            desc = f"ä»¥{sp_zh}ç‚ºåŸºé…’ï¼Œå‘ˆç¾{adj_zh}é¢¨å‘³ã€‚"
            names.append((eng, zh, desc, sp_type))

            for sty_en, sty_zh, sty_type in STYLES:
                eng2 = f"{adj_en} {sp_en} {sty_en}"
                zh2 = f"{adj_zh}{sp_zh}{sty_zh}"
                desc2 = f"ä»¥{sp_zh}ç‚ºåŸºé…’ï¼Œèª¿è£½æˆ{sty_zh}é¢¨æ ¼ï¼Œå¸¶æœ‰{adj_zh}ç‰¹è‰²ã€‚"
                names.append((eng2, zh2, desc2, sty_type))

            for flav_en, flav_zh in FLAVORS:
                eng3 = f"{sp_en} {flav_en} ({adj_en})"
                zh3 = f"{adj_zh}{sp_zh}{flav_zh}"
                desc3 = f"ä»¥{sp_zh}ç‚ºåŸºé…’ï¼ŒåŠ å…¥{flav_zh}ï¼Œçªé¡¯{adj_zh}å£æ„Ÿã€‚"
                names.append((eng3, zh3, desc3, sp_type))

    # è£œè¶³åˆ° 1000
    if len(names) < 1000:
        need = 1000 - len(names)
        names.extend([
            (f"House Recipe #{i+1}", f"ç‰¹èª¿ #{i+1}", f"ç‰¹èª¿é…æ–¹ #{i+1}ï¼Œéš¨æ©Ÿé¢¨å‘³ã€‚", "default")
            for i in range(need)
        ])

    return names[:1000]


DRINKS: List[Tuple[str, str, str, str]] = build_drink_names()


class Drink(commands.Cog):
    """/drinkï¼šéš¨æ©Ÿç‚ºæŒ‡å®šå°è±¡é»ä¸€æ¬¾é…’ï¼ˆè‹±æ–‡+ä¸­æ–‡+ç°¡ä»‹+é¡å‹iconï¼‰ã€‚"""

    def __init__(self, bot: commands.Bot) -> None:
        self.bot = bot

    @app_commands.command(name="drink", description="éš¨æ©Ÿç‚ºæŸäººé»ä¸€æ¬¾é…’")
    @app_commands.describe(to="è¦æ‹›å¾…å˜…äºº")
    async def drink(self, interaction: discord.Interaction, to: discord.Member):
        eng, zh, desc, typ = random.choice(DRINKS)
        icon = ICON_MAP.get(typ, ICON_MAP["default"])
        embed = discord.Embed(
            description=(
                f"{icon} {to.mention} ç‚ºä½ é»å’— **{eng} ({zh})**ï¼Œè«‹äº«ç”¨ï½\n"
                f"â¡ï¸ ç°¡ä»‹ï¼š{desc}"
            ),
            color=discord.Color.random(),
        )
        embed.set_author(name="Con9sole-Bartender")
        await interaction.response.send_message(embed=embed)


async def setup(bot: commands.Bot):
    await bot.add_cog(Drink(bot))
